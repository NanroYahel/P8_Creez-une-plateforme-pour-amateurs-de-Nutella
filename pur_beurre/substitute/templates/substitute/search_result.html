{% extends 'substitute/base.html' %}

{% block content %}
<section id="list_result">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 mx-auto text-center">
        <h1>Résultat de la recherche : {{ query }}</h1>
        {% if no_result_message %}
        <p>{{ no_result_message }}</p>
        <p>Voici la liste de tous les produits : </p>
          {% for result in products  %}
            <li class="list-unstyled"><a href="{% url 'substitute:find_substitute' product_id=result.id %}">{{ result.name }}</a></li>
          {% endfor %}
        {% elif no_query_message %}
        <p>Vous n'avez rien entré dans le champ de recherche.</br>
        Voici la liste des produits : </p>
        {% endif %}
        <ul>
        	{% for result in products  %}
        	<li class="list-unstyled"><a href="{% url 'substitute:find_substitute' product_id=result.id %}">{{ result.name }}</a></li>
        	{% endfor %}
       </ul>
      </div>  
   </div>
  </div>
  {% if paginate %}
    <ul class="text-center list-unstyled">
      {% if products.has_previous %}
          <li><a href="?page={{ products.previous_page_number }}">Précédent</a></li>
      {% endif %}
      {% if products.has_next %}
          <li><a href="?page={{ products.next_page_number }}">Suivant</a></li>
      {% endif %}
    </ul>
  {% endif %}
</section>

{% endblock %}